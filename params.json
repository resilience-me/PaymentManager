{
  "name": "Simplecrowdfund",
  "tagline": "",
  "body": "### Simple crowd-fund\r\n```js\r\n/* contract to log who has contributed Bitcoin to a project, and to return funds manually */\r\n\r\ncontract PaymentManager { \r\n\r\n    address public owner;\r\n    string public BTCaddress;\r\n\r\n    struct Funders {\r\n        string username;\r\n        string returnAddress;\r\n        string txID;\r\n        string returnTX; \r\n    }\r\n\r\n    mapping (address => Funders) public funders;\r\n\r\n\r\n    function PaymentManager(address campaignOwner, string PaymentAddress){\r\n\t\towner = campaignOwner;\r\n        BTCaddress = PaymentAddress;\r\n    }\r\n\r\n    function Fund(address v, string username, string returnAddress, string txID){\r\n        if(msg.sender != owner)\r\n            throw;\r\n        /* funders */\r\n        funders[v].username = username;\r\n        funders[v].returnAddress = returnAddress;\r\n        funders[v].txID = txID;\r\n    }\r\n    \r\n    function getPaymentAddress() returns(string){\r\n        return BTCaddress;\r\n    }    \r\n    \r\n    function getFunder(address v) internal returns(Funders){\r\n        return funders[v];\r\n    }    \r\n    \r\n    function returnFunds(address v, string returnTX) internal returns(Funders){\r\n        if(msg.sender != owner)\r\n            throw;\r\n        funders[v].returnTX = returnTX;\r\n        return funders[v];\r\n    }    \r\n    \r\n}         \r\n\r\n\r\ncontract createPaymentManager {\r\n\t\r\n\taddress[] campaigns;\r\n\t\r\n\tstruct Campaign {\r\n\taddress campaignOwner;\r\n\tstring campaignName;\r\n\tstring PaymentAddress;\r\n\t}\r\n\r\n    mapping (address => Campaign) public registered;\r\n\r\n\r\n\tfunction register(address campaignOwner, string campaignName, string PaymentAddress) \r\n\t{\r\n\t\taddress b = new PaymentManager(campaignOwner, PaymentAddress);\r\n\t\tregistered[b].campaignOwner = campaignOwner;\r\n\t\tregistered[b].campaignName = campaignName;\r\n\t\tregistered[b].PaymentAddress = PaymentAddress;\r\n        campaigns.push(b);\r\n\t}\r\n\r\n\t/* get list of all campaigns */\r\n\r\n\tfunction getCampaigns() constant returns (address[]){\t\r\n\t\treturn campaigns;\r\n\t}\r\n\r\n\t/* get details about a campaign */\r\n\r\n\r\n\tfunction getOwner(address v) constant returns(address){\r\n\treturn registered[v].campaignOwner;\r\n\t}\r\n\r\n\tfunction getName(address v) constant returns(string){\r\n\treturn registered[v].campaignName;\r\n\t}\r\n\r\n\tfunction getPaymentAddress(address v) constant returns(string){\r\n\treturn registered[v].PaymentAddress;\r\n\t}\r\n\r\n}   \r\n```\r\n\r\n### ABI\r\n```\r\n[{\"constant\":true,\"inputs\":[{\"name\":\"v\",\"type\":\"address\"}],\"name\":\"getName\",\"outputs\":\r\n[{\"name\":\"\",\"type\":\"string\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":\r\n[{\"name\":\"campaignOwner\",\"type\":\"address\"},{\"name\":\"campaignName\",\"type\":\"string\"},\r\n{\"name\":\"PaymentAddress\",\"type\":\"string\"}],\"name\":\"register\",\"outputs\":[],\"type\":\"function\"},\r\n{\"constant\":true,\"inputs\":[],\"name\":\"getCampaigns\",\"outputs\":[{\"name\":\"\",\"type\":\"address[]\"}],\r\n\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"registered\",\r\n\"outputs\":[{\"name\":\"campaignOwner\",\"type\":\"address\"},{\"name\":\"campaignName\",\"type\":\"string\"},\r\n{\"name\":\"PaymentAddress\",\"type\":\"string\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":\r\n[{\"name\":\"v\",\"type\":\"address\"}],\"name\":\"getPaymentAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\r\n\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"v\",\"type\":\"address\"}],\"name\":\"getOwner\",\r\n\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"}]\r\n```\r\n### HTML\r\n```html\r\n<!doctype>\r\n<html>\r\n<head>\r\n<script type='text/javascript'>\r\n\r\nvar defaultAccount = web3.eth.defaultAccount;\r\nconsole.log(defaultAccount); // ''\r\n\r\n// set the default block\r\nweb3.eth.defaultAccount = web3.eth.accounts[0];\r\n\r\n\r\n\r\nfunction createPaymentManager() {\r\n\tvar campaignOwner = document.getElementById('campaignOwner').value;\r\n\tvar campaignName = document.getElementById('campaignName').value;\r\n\tvar PaymentAddress = document.getElementById('PaymentAddress').value;\r\n\r\n\tvar res = contracts['createPaymentManager'].contract.register(campaignOwner, campaignName, PaymentAddress);\r\n\tdocument.getElementById('registration').innerHTML = res;\r\n\r\n\tdocument.getElementById('campaignAddress').value = res;\r\n\r\n}\r\n\r\nfunction getCampaigns() {\r\n\tvar res = contracts['createPaymentManager'].contract.getCampaigns();\r\n\t\r\n\tvar campaignList = \"\"\r\n\r\n\tfor(var i =0;i<res.length;i++)\r\n\t\t{\r\n\t\t\tcampaignList += res[i] + \"<br>\";\r\n\t\t}\r\n\r\ndocument.getElementById('campaigns').innerHTML = campaignList;\r\n\r\n}\r\n\r\nfunction getDetails() {\r\n\tvar campaignAddress = document.getElementById('campaignAddress').value;\r\n\r\n\tvar campaignOwner = contracts['createPaymentManager'].contract.getOwner(campaignAddress);\r\n\tvar campaignName = contracts['createPaymentManager'].contract.getName(campaignAddress);\r\n\tvar PaymentAddress = contracts['createPaymentManager'].contract.getPaymentAddress(campaignAddress);\r\n\r\n\tdocument.getElementById('results').innerHTML = \"<h3>Results:</h3>\";\r\n\r\n\tdocument.getElementById('showOwner').innerHTML = \"<b>campaign owner:</b> <br>\"+campaignOwner;\r\n\tdocument.getElementById('showName').innerHTML = \"<b>campaign name:</b><br> \"+ campaignName;\r\n\tdocument.getElementById('showPaymentAddress').innerHTML = \"<b>payment address:</b><br> \"+PaymentAddress;\r\n\r\n\r\n\r\n\r\n}\r\n\r\n</script>\r\n</head>\r\n<body bgcolor='#E6E6FA'>\r\n\t<h3>Create Payment Manager</h3>\r\n<div>\r\n\r\n\r\n\t<div>\r\n\tYour ethereum address: <br><input value='0x26416b12610d26fd31d227456e9009270574038f' type='text' id='campaignOwner'>\r\n\t</div>\r\n\r\n\t<div>\r\n\tThe name of your campaign: <br><input value='My Campaign' type='text' id='campaignName'>\r\n\t</div>\r\n\r\n\t<div>\r\n\tBitcoin address that recieves funds: <br><input value='My BTC address' type='text' id='PaymentAddress'>\r\n\t</div>\r\n\r\n\t<button onclick='createPaymentManager()'>Register</button>\r\n\t<div id='registration'></div>\r\n\r\n</div>\r\n\t<br><br>\r\n<div>\r\nGet all campaigns:\r\n\t<input value='get' type='button' onclick='getCampaigns()' />\r\n\t<div id='campaigns'></div>\r\n</div>\r\n<br><br>\r\n\r\n<div>\r\n\t\r\n<h3>Get Campaign Details</h3>\r\n\r\n<div>\r\n\tCampaign Address: <input value='0xed10aab79903893202c19b4b44824f06806c42ae' type='text' id='campaignAddress'>\r\n\t</div>\r\n\t<input value='get' type='button' onclick='getDetails()' />\r\n\r\n<div>\r\n<div id='results'></div>\r\n<div id='showOwner'></div>\r\n<br>\r\n<div id='showName'></div>\r\n\t<br>\r\n<div id='showPaymentAddress'></div>\r\n\t</div>\r\n</div>\r\n</body>\r\n</html>\r\n```",
  "google": "",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}